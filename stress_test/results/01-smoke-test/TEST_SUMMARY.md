# 01 Smoke Test ê²°ê³¼ ìš”ì•½

## í…ŒìŠ¤íŠ¸ ì¼ì‹œ
- 2025ë…„ 11ì›” 3ì¼ 14:52 ~ 14:56

## í…ŒìŠ¤íŠ¸ ê²°ê³¼

### âœ… ì„±ê³µí•œ í”Œë¡œìš° (Bash ìŠ¤í¬ë¦½íŠ¸)

ì „ì²´ ì‚¬ìš©ì ì—¬ì •ì´ ì •ìƒ ì‘ë™í•¨ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤:

```
1. âœ… Login (POST) â†’ 201 Created
2. âœ… Get Events (GET) â†’ 200 OK
3. âœ… Enqueue (POST) â†’ 201 Created
4. âœ… Queue Status (GET) â†’ 200 OK (í´ë§ 2íšŒ, QUEUED â†’ READY)
5. âœ… Enter Queue (POST) â†’ 201 Created
6. âœ… Get Event Detail (GET) â†’ 200 OK
7. âš ï¸  Create Order (POST) â†’ 400 Bad Request (per-user limit)
```

**ì°¸ê³ **: 7ë²ˆ ë‹¨ê³„ì˜ 400 ì—ëŸ¬ëŠ” í…ŒìŠ¤íŠ¸ ê³„ì •ì´ ì´ë¯¸ í•´ë‹¹ ì´ë²¤íŠ¸ì— ëŒ€í•´ ì£¼ë¬¸ì„ ì™„ë£Œí–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.
ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì •ìƒ ì‘ë™í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

### ğŸ”§ ë°œê²¬í•œ ë¬¸ì œì ê³¼ í•´ê²°

#### 1. JMeter `__padLeft` í•¨ìˆ˜ ë¯¸ì‘ë™
**ë¬¸ì œ**: `test${__padLeft(${__threadNum},4,0)}`ê°€ "test1", "test2"ë¡œ ë³€í™˜ë˜ì–´ 401 Unauthorized ë°œìƒ
**í•´ê²°**: CSV íŒŒì¼(test-users.csv)ë¡œ ì‚¬ìš©ì ê³„ì • ê´€ë¦¬

#### 2. ì‘ë‹µ ì½”ë“œ ë¶ˆì¼ì¹˜
**ë¬¸ì œ**:
- POST ìš”ì²­ â†’ 201 Created ì‘ë‹µ
- GET ìš”ì²­ â†’ 200 OK ì‘ë‹µ
- JMeter ê¸°ë³¸ assertionì€ ëª¨ë‘ 200 ê¸°ëŒ€

**í•´ê²°**: POST ìš”ì²­ì˜ assertionì„ 201ë¡œ ë³€ê²½

## API ì‘ë‹µ ì½”ë“œ ë§¤í•‘

| ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ | ì‘ë‹µ ì½”ë“œ |
|------------|--------|----------|
| /auth/login | POST | 201 |
| /events | GET | 200 |
| /events/{id} | GET | 200 |
| /queue/enqueue | POST | 201 |
| /queue/status | GET | 200 |
| /queue/enter | POST | 201 |
| /orders | POST | 201 |
| /orders/{id} | GET | 200 |
| /payments | POST | 201 |
| /payments/callback | POST | 201 |

## ìƒì„±ëœ íŒŒì¼ë“¤

### ìŠ¤í¬ë¦½íŠ¸
- `scripts/full-flow-test.sh`: ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸ Bash ìŠ¤í¬ë¦½íŠ¸ âœ…

### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
- `scenarios/00-login-only.jmx`: ë¡œê·¸ì¸ë§Œ í…ŒìŠ¤íŠ¸ âœ…
- `scenarios/00-queue-test.jmx`: ëŒ€ê¸°ì—´ê¹Œì§€ í…ŒìŠ¤íŠ¸ âœ…
- `scenarios/01-smoke-test.jmx`: ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸ (assertion ì´ìŠˆ)

### í…ŒìŠ¤íŠ¸ ë°ì´í„°
- `test-users.csv`: í…ŒìŠ¤íŠ¸ ê³„ì • ëª©ë¡ (test0000 ~ test0009)

### ê²°ê³¼ íŒŒì¼
- `results/01-smoke-test/smoke-test-*.jtl`: JMeter í…ŒìŠ¤íŠ¸ ê²°ê³¼
- `results/01-smoke-test/smoke-test-*.log`: JMeter ë¡œê·¸

## ì„±ëŠ¥ ë°ì´í„°

### ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ (00-queue-test.jmx)
```
ì´ ìš”ì²­: 4ê°œ
í‰ê·  ì‘ë‹µ ì‹œê°„: 127ms
ì—ëŸ¬ìœ¨: 0%

- Login: 311ms
- Get Events: 132ms
- Enqueue: 30ms
- Queue Status: 36ms
```

### Bash ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŠ¸
```
ì „ì²´ ì†Œìš” ì‹œê°„: ~15ì´ˆ (ëŒ€ê¸°ì—´ í´ë§ í¬í•¨)
ì„±ê³µ ë‹¨ê³„: 6/7 (85.7%)
```

## ë‹¤ìŒ ë‹¨ê³„ ê¶Œì¥ì‚¬í•­

1. **01-smoke-test.jmx ìˆ˜ì • ì™„ë£Œ**
   - GET ìš”ì²­: 200 OK assertion
   - POST ìš”ì²­: 201 Created assertion
   - CSV ë°ì´í„° ì‚¬ìš©

2. **í…ŒìŠ¤íŠ¸ ë°ì´í„° ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ í•„ìš”**
   - í…ŒìŠ¤íŠ¸ ê³„ì •ì˜ ì£¼ë¬¸ ì´ë ¥ ì‚­ì œ
   - ë˜ëŠ” ì‹ ê·œ ì´ë²¤íŠ¸ ìƒì„±

3. **Load Test ì¤€ë¹„**
   - ë™ì‹œ ì‚¬ìš©ì ìˆ˜: 10 â†’ 100 â†’ 500
   - ì •ìƒ ì‘ë™ í™•ì¸ í›„ ë¶€í•˜ í…ŒìŠ¤íŠ¸ ì§„í–‰

## ê²°ë¡ 

âœ… **ì „ì²´ ì‚¬ìš©ì ì—¬ì •ì´ ì •ìƒ ì‘ë™í•¨ì„ í™•ì¸**
âœ… **API ìŠ¤í™ ë¬¸ì„œí™” ì™„ë£Œ (API-SPEC.md)**
âœ… **í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶• ì™„ë£Œ**

**ë‹¤ìŒ**: Load Test (02-load-test.jmx) ì¤€ë¹„
